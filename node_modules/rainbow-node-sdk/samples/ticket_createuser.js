var NodeSDK = require("../index");

var nodeSDK = new NodeSDK({
    "rainbow": {
        "host": "sandbox.openrainbow.com",
        "mode": "xmpp"
    },
    "credentials": {
        "login": "",
        "password": ""
    },
    application: {
        "appID": "",
        "appSecret": ""
    },
    logs: {
        enableConsoleLogs: false,
        enableFileLogs: false,
        file: {
            path: "/var/tmp/rainbowsdk/",
            level: "debug"
        }
    },
    im: {
        sendReadReceipt: false  //false to not send a read receipt automatically
    }
});

nodeSDK.events.on("rainbow_onready", (jsonMessage) => {
    console.log("[Rainbow] >>> READY", jsonMessage);
    console.log("[Rainbow] >>> STATE", nodeSDK.state);

    nodeSDK.admin.createUserInCompany("toto@westworld.com", "Password_123", "toto", "titi").then((user) => {
        console.log("User Created", user);
    });
});

nodeSDK.start();
